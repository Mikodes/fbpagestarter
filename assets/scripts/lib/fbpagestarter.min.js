(function(t){var e;t.fn.fb=function(e,n){var i=t.extend({appId:e,status:true,cookie:true,xfbml:true,locales:"en_US",channelUrl:""},n);window.fbInit=window.fbInit||false;if(window.fbInit){t(document).trigger("fb:initialized");if(i.xfbml){FB.XFBML.parse()}return}window.fbAsyncInit=function(){window.fbInit=true;t(document).trigger("fb:initializing");FB.init(i);t(document).trigger("fb:initialized")};var a="fb-root";if(!document.getElementById(a)){var d=document.createElement("div");d.id=a;document.body.appendChild(d)}var c,o="facebook-jssdk";if(!document.getElementById(o)){c=document.createElement("script");c.id=o;c.async=true;c.src="//connect.facebook.net/"+i.locales+"/all.js";document.getElementsByTagName("head")[0].appendChild(c)}t(".jsAddToPage").on("click",function(e){e.preventDefault();FB.ui({method:"pagetab",redirect_uri:"http:"+$canvas_url+"install_to_page.html"},function(e){if(e!=null&&e.tabs_added!=null){t.each(e.tabs_added,function(t){FB.api(t,function(t){alert("redirect to "+t.link)})})}else{alert("Unable to install")}})});t(".jsFbShare").on("click",function(e){e.preventDefault();var n={method:"feed",link:t(this).data("link"),picture:t(this).data("pic"),name:t(this).data("name"),caption:t(this).data("caption"),description:t(this).data("desc")};FB.ui(n)})}})(jQuery);