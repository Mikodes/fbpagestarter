(function(e){"use strict";e.fn.fbStarter=function(i){var t=e.extend({appId:"",pageId:"",status:true,cookie:true,xfbml:true,locales:"en_US",canvasUrl:"",frictionlessRequests:true,activeFangate:false,likedPage:"like-wrapper",unlikePage:"unlike-wrapper",permissionsSuccess:function(){},permissionsFail:function(){},dialogSuccess:function(){},dialogFail:function(){}},i);window.fbInit=window.fbInit||false;if(window.fbInit){e(document).trigger("fb:initialized");if(t.xfbml){FB.XFBML.parse()}return}window.fbAsyncInit=function(){window.fbInit=true;e(document).trigger("fb:initializing");FB.init(t);e(document).trigger("fb:initialized");FB.Canvas.setDoneLoading(function(e){FB.Canvas.setAutoGrow()});if(t.activeFangate){FB.getLoginStatus(function(i){if(i.status==="connected"){var a=i.authResponse.userID,n=t.pageId,s="SELECT uid FROM page_fan WHERE page_id ="+n+" and uid="+a,c=FB.Data.query(s);c.wait(function(i){if(i.length===1&&i[0].uid===a){e("#"+t.likedPage).show()}else{e("#"+t.unlikePage).show()}})}else{e("#"+t.askPermission).show()}})}};var a="fb-root";if(!document.getElementById(a)){var n=document.createElement("div");n.id=a;document.body.appendChild(n)}var s,c="facebook-jssdk";if(!document.getElementById(c)){s=document.createElement("script");s.id=c;s.async=true;s.src="//connect.facebook.net/"+t.locales+"/all.js";document.getElementsByTagName("head")[0].appendChild(s)}return this.each(function(){e(".fb-dialog").click(function(t){t.preventDefault();var s=e(this).data("fbactiontype"),c;switch(s){case"add_page_tab":i();break;case"permissions":var o=e(this).data("permissions");a(o);break;case"share":c={method:"feed",link:e(this).data("link"),picture:e(this).data("picture"),title:e(this).data("title"),caption:e(this).data("caption"),description:e(this).data("description")};n(c);break;case"requests":c={method:"apprequests",message:e(this).data("message")};n(c);break;case"send":c={method:"send",name:e(this).data("name"),picture:e(this).data("picture"),link:e(this).data("link")};n(c);break}});function i(){var i=t.canvasUrl+"install_to_page.html";FB.ui({method:"pagetab",redirect_uri:i},function(i){if(i!==null&&i.tabs_added!==null){e.each(i.tabs_added,function(i){FB.api(i,function(i){e("#msg").text("Your tab has already been installed")})})}else{e("#msg").text("Action cancelled, unable to install a page")}})}function a(i){FB.login(function(i){if(i.authResponse){if(e.isFunction(t.permissionsSuccess)){t.permissionsSuccess.call(this)}}else{if(e.isFunction(t.permissionsFail)){t.permissionsFail.call(this)}}},{scope:i})}function n(i){FB.ui(i,function(i){if(i&&i.post_id){if(e.isFunction(t.dialogSuccess)){t.dialogSuccess.call(this)}}else{if(e.isFunction(t.dialogFail)){t.dialogFail.call(this)}}})}})}})(jQuery);